\
.\" This man page was generated by the Netpbm tool 'makeman' from HTML source.
.\" Do not hand-hack it!  If you have bug fixes or improvements, please find
.\" the corresponding HTML page on the Netpbm website, generate a patch
.\" against that, and send it to the Netpbm maintainer.
.TH "Pamcrater User Manual" 0 "03 November 2014" "netpbm documentation"

.SH NAME

pamcrater - create cratered terrain by fractal forgery

.UN examples
.SH EXAMPLES

.nf
\f(CW
    $ pamcrater | pamshadedrelief | pamx

    $ pamcrater -number=500000 -height=1000 -width=1000 >craters.pam
\fP  
.fi

.UN synopsis
.SH SYNOPSIS

\fBpamcrater\fP

[\fB-number\fP \fIn\fP]

[\fB-height\fP \fIpixels\fP]

[\fB-width\fP \fIpixels\fP]

[\fB-randomseed=\fP\fIinteger\fP]

[\fB-verbose\fP]

.UN description
.SH DESCRIPTION
.PP
This program is part of
.BR "Netpbm" (1)\c
\&.
.PP
\fBpamcrater\fP creates a PAM image which is a terrain map (not a visual
image) of cratered terrain.  The terrain is as if a given number of impacts
into a surface create craters with random position and size.
.PP
The size distribution of the craters is based on a power law which results
in many more small craters than large ones.  The number of craters of a given
size varies as the reciprocal of the area as described on pages 31 and 32 of
Peitgen and Saupe[1]; cratered bodies in the Solar System are observed to obey
this relationship.  The formula used to obtain crater radii governed by this
law from a uniformly distributed pseudorandom sequence was developed by Rudy
Rucker.
.PP
A terrain map is a two dimensional map of terrain elevations.  the PAM
image that \fBpamcrater\fP produces is therefore not a visual image but a
depth-one image of tuple type "elevation", with the sample value
being proportional to an elevation.
.PP
You can visualize the terrain map by generating a shaded relief image of it
with \fBpamshadedrelief\fP.  
.PP
High resolution images with large numbers of
craters often benefit from being piped through \fBpnmsmooth\fP.  The
averaging performed by this process eliminates some of the jagged pixels and
lends a mellow ``telescopic image'' feel to the overall picture.
.PP
\fBpamcrater\fP generates only small craters, which are hemispherical in
shape (regardless of the incidence angle of the impacting body, as long as the
velocity is sufficiently high).  Large craters, such as Copernicus and Tycho
on the Moon, have a ``walled plain'' shape with a cross-section more like:

.nf
                /\e                            /\e
          _____/  \e____________/\e____________/  \e_____
.fi
.PP
Larger craters should really use this profile, including the central
peak, and totally obliterate the pre-existing terrain.
.PP
The maxval of the PAM image is always 65535.
.PP
The randomness in the image is limited before Netpbm 10.37 (December
2006) -- if you run the program twice in the same second, you may get
identical output.


.UN options
.SH OPTIONS
.PP
All options can be abbreviated to their shortest unique prefix.


.TP
\fB-number\fP \fIn\fP
This causes \fBpamcrater\fP to generate \fIn\fP craters.  If you do not
specify \fB-number\fP, it generates 50000 craters.  Don't expect to see them
all!  For every large crater there are many, many more tiny ones which tend
simply to erode the landscape.  In general, the more craters you specify, the
more realistic the result; ideally you want the entire terrain to have been
extensively turned over again and again by cratering.  High resolution images
containing five to ten million craters are stunning but take longer to create.

.TP
\fB-height\fP \fIheight\fP
This sets the height of the generated image to \fIheight\fP pixels.
The default height is 256 pixels.

.TP
\fB-width\fP \fIwidth\fP
This sets the width of the generated image to \fIwidth\fP pixels.  The
default width is 256 pixels.

.TP
\fB-randomseed=\fP\fIinteger\fP
This is the seed for the random number generator that generates the
pixels.
.sp
Use this to ensure you get the same image on separate invocations.
.sp
By default, \fBpamcrater\fP uses a seed derived from the time of day and
process ID, which gives you fairly uncorrelated results in multiple
invocations.
.sp
This option was new in Netpbm 10.61 (December 2012).

.TP
\fB-verbose\fP
This causes \fBpamcrater\fP to issue additional messages about what it
is doing.
.sp
This option was new in Neptbm 10.69 (December 2014).




.UN designnotes
.SH DESIGN NOTES
.PP
Real craters have two distinct morphologies.


.UN seealso
.SH SEE ALSO
.BR "pamshadedrelief" (1)\c
\&,
.BR "ppmrelief" (1)\c
\&,
.BR "pnmsmooth" (1)\c
\&
.BR "pam" (5)\c
\&,


.TP
[1]
Peitgen, H.-O., and Saupe, D. eds., The Science Of Fractal Images,
New York: Springer Verlag, 1988.



.UN author
.SH AUTHOR
.PP
\fBpgmcrater\fP, from which this is derived, was written by John Walker:

.nf
John Walker
Autodesk SA
Avenue des Champs-Montants 14b
CH-2074 MARIN
Suisse/Schweiz/Svizzera/Svizra/Switzerland
    \fBUsenet:\fP\fIkelvin@Autodesk.com\fP
    \fBFax:\fP038/33 88 15
    \fBVoice:\fP038/33 76 33
.fi
.PP
Permission to use, copy, modify, and distribute this software and
its documentation for any purpose and without fee is hereby granted,
without any conditions or restrictions.  This software is provided
"as is" without express or implied warranty.


.UN history
.SH HISTORY
.PP
John Walker wrote \fBpgmcrater\fP in 1991 and it was included in Pbmplus.
\fBpgmcrater\fP did the equivalent of \f(CWpamcrater | pamshadedrelief\fP.
In Netpbm 10.68 (September 2014), Bryan Henderson split the functions
of \fBpgmcrater\fP into two programs, one (\fBpamcrater\fP) to compute
elevations, and the other (\fBpamshadedrelief\fP) to generate a shaded relief
visual image showing those elevations.  Bryan did this because it is more in
keeping with Netpbm's modular architecture, and because
the \fBpamshadedrelief\fP might be useful with other inputs.
.PP
(Like all Netpbm programs, \fBpgmcrater\fP was not static between the two
events described above; minor changes, including replacement of most of the
code, happened in between).
.PP
The original 1991 \fBpgmcrater\fP manual contains the following:

.SS PLUGWARE!
.PP
If you like this kind of stuff, you may also enjoy "James Gleick's
Chaos--The Software" for MS-DOS, available for $59.95 from your
local software store or directly from Autodesk, Inc., Attn: Science
Series, 2320 Marinship Way, Sausalito, CA 94965, USA.  Telephone:
(800) 688-2344 toll-free or, outside the U.S. (415) 332-2344 Ext
4886.  Fax: (415) 289-4718.  "Chaos--The Software" includes a more
comprehensive fractal forgery generator which creates
three-dimensional landscapes as well as clouds and planets, plus five
more modules which explore other aspects of Chaos.  The user guide of
more than 200 pages includes an introduction by James Gleick and
detailed explanations by Rudy Rucker of the mathematics and algorithms
used by each program.
.SH DOCUMENT SOURCE
This manual page was generated by the Netpbm tool 'makeman' from HTML
source.  The master documentation is at
.IP
.B http://netpbm.sourceforge.net/doc/pamcrater.html
.PP